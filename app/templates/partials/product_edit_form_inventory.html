<div class="modal-overlay" id="product-inventory-edit-modal">
  <div class="modal-container">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Editar producto</h3>
        <button type="button" class="modal-close" data-modal-close="product-inventory-edit-modal">&times;</button>
      </div>

      <form hx-post="/ui/product/{{ product.sku }}/update-inventory" hx-target="#tab-content" hx-swap="innerHTML" hx-encoding="multipart/form-data" enctype="multipart/form-data">
        <div class="row"><label>SKU</label><input name="new_sku" value="{{ product.sku }}" /></div>
        <div class="row"><label>Nombre</label><input name="name" value="{{ product.name }}" required /></div>
        <div class="row"><label>Unidad</label><input name="unit_of_measure" value="{{ product.unit_of_measure or '' }}" /></div>
        <div class="row">
          <label>Imagen</label>
          <div>
            {% if product.image_url %}
              <div style="margin-bottom:6px;">
                <img src="{{ product.image_url }}" alt="{{ product.name }}" style="width:64px; height:64px; object-fit:cover; border-radius:8px; border:1px solid #e5e7eb;" />
              </div>
            {% endif %}
            <input name="image_file" type="file" accept="image/*" />
          </div>
        </div>
        <div class="row"><label>Categoría</label><input name="category" value="{{ product.category or '' }}" /></div>
        <div class="row"><label>Stock actual</label><input name="desired_stock" type="number" step="0.0001" min="0" value="{{ current_stock or 0 }}" /></div>
        <div class="row"><label>Stock mínimo</label><input name="min_stock" type="number" step="0.0001" min="0" value="{{ product.min_stock or 0 }}" /></div>
        <div class="row"><label>Tiempo de aprovisionamiento (días)</label><input name="lead_time_days" type="number" step="1" min="0" value="{{ product.lead_time_days or 0 }}" /></div>
        <div class="row"><label>Costo compra por defecto</label><input name="default_purchase_cost" type="number" step="0.0001" min="0" value="{{ product.default_purchase_cost or '' }}" /></div>
        <div class="row"><label>Precio venta por defecto</label><input name="default_sale_price" type="number" step="0.0001" min="0" value="{{ product.default_sale_price or '' }}" /></div>
        <button type="submit">Guardar cambios</button>
        <button type="button" class="btn-secondary ml-8" data-modal-close="product-inventory-edit-modal">Cancelar</button>
      </form>
    </div>
  </div>
</div>
