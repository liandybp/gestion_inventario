<div class="card">
  <h3>Editar compra</h3>

  <form hx-post="/ui/movement/purchase/{{ movement.id }}/update" hx-target="#purchase-panel" hx-swap="outerHTML">
    <div class="row">
      <label>Art√≠culo</label>
      <input name="product" list="product-options" value="{{ product_label }}" required />
    </div>
    <div class="row"><label>Cantidad</label><input name="quantity" type="number" step="0.0001" min="0" value="{{ movement.quantity }}" required /></div>
    <div class="row"><label>Costo unitario</label><input name="unit_cost" type="number" step="0.0001" min="0" value="{{ movement.unit_cost or 0 }}" required /></div>
    <div class="row"><label>Fecha</label><input name="movement_date" type="datetime-local" value="{{ movement_date_value }}" /></div>
    <div class="row"><label>Lote</label><input name="lot_code" value="{{ lot_code }}" /></div>
    <div class="row"><label>Nota</label><input name="note" value="{{ movement.note or '' }}" /></div>

    <button type="submit">Guardar cambios</button>
    <button type="button" style="margin-left:8px; background:#6b7280;"
            hx-on:click="document.getElementById('purchase-edit').innerHTML=''">Cancelar</button>
  </form>
</div>
