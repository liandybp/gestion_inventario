<div class="modal-overlay" id="extraction-edit-modal">
  <div class="modal-container">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Editar retiro</h3>
        <button type="button" class="modal-close" data-modal-close="extraction-edit-modal">&times;</button>
      </div>

      <form hx-post="/ui/extraction/{{ extraction.id }}/update" hx-target="#tab-content" hx-swap="innerHTML">
        <div class="row"><label>Fecha</label><input name="extraction_date" type="datetime-local" value="{{ extraction_date_value or '' }}" /></div>
        <div class="row">
          <label>Parte</label>
          <select name="party" style="width:100%; padding:8px; border:1px solid var(--brand-border); border-radius:8px; background: var(--brand-surface); color: var(--brand-text);">
            <option value="{{ dividends.business_label }}" {% if extraction.party == dividends.business_label %}selected{% endif %}>{{ dividends.business_label }}</option>
            {% for p in dividends.partners %}
              <option value="{{ p }}" {% if extraction.party == p %}selected{% endif %}>{{ p }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="row"><label>Cantidad</label><input name="amount" type="number" step="0.0001" value="{{ extraction.amount or 0 }}" required /></div>
        <div class="row"><label>Concepto</label><input name="concept" value="{{ extraction.concept }}" required /></div>
        <button type="submit">Guardar cambios</button>
        <button type="button" class="btn-secondary ml-8" data-modal-close="extraction-edit-modal">Cancelar</button>
      </form>
    </div>
  </div>
</div>
