<div class="modal-overlay" id="profit-items-sale-edit-modal">
  <div class="modal-container">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Editar venta</h3>
        <button type="button" class="modal-close" data-modal-close="profit-items-sale-edit-modal">&times;</button>
      </div>

      <form hx-post="/ui/tabs/profit-items/sale/{{ movement.id }}/update" hx-target="#tab-content" hx-swap="innerHTML">
        <input type="hidden" name="query" value="{{ filter_query or '' }}" />
        <input type="hidden" name="start_date" value="{{ filter_start_date or '' }}" />
        <input type="hidden" name="end_date" value="{{ filter_end_date or '' }}" />

        <div class="row">
          <label>Art√≠culo</label>
          <input name="product" list="profit-items-product-options" value="{{ product_label }}" required />
        </div>
        <div class="row"><label>Cantidad</label><input name="quantity" type="number" step="0.0001" min="0" value="{{ (movement.quantity * -1) if movement.quantity < 0 else movement.quantity }}" required /></div>
        <div class="row"><label>Precio unitario</label><input name="unit_price" type="number" step="0.0001" min="0" value="{{ movement.unit_price or 0 }}" required /></div>
        <div class="row"><label>Fecha</label><input name="movement_date" type="datetime-local" value="{{ movement_date_value }}" /></div>
        <div class="row"><label>Nota</label><input name="note" value="{{ movement.note or '' }}" /></div>

        <datalist id="profit-items-product-options">
          {% for p in product_options %}
            <option value="{{ p.sku }} - {{ p.name }}"></option>
          {% endfor %}
        </datalist>

        <button type="submit">Guardar cambios</button>
        <button type="button" class="btn-secondary ml-8" data-modal-close="profit-items-sale-edit-modal">Cancelar</button>
      </form>
    </div>
  </div>
</div>
