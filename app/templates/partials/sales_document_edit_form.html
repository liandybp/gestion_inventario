<div class="card mt-12" id="sales-doc-edit-form">
  <div class="flex justify-between gap-12 items-center flex-wrap">
    <h4 class="m-0">Editar documento <code>{{ doc.code }}</code></h4>
    <button type="button" class="btn-secondary" data-clear-target="#sales-doc-edit">Cerrar</button>
  </div>

  <form hx-post="/ui/sales-doc/{{ doc.id }}/update" hx-target="#sales-doc-panel" hx-swap="outerHTML" class="mt-12">
    <div class="grid grid-2">
      <div class="row"><label>Cliente (Nombre)</label><input name="client_name" value="{{ doc.client_name }}" required /></div>
      <div class="row"><label>Cliente (ID)</label><input name="client_id" value="{{ doc.client_id }}" required /></div>
    </div>
    <div class="row"><label>Direcci칩n (opcional)</label><input name="client_address" value="{{ doc.client_address or '' }}" /></div>
    <div class="row"><label>Notas (opcional)</label><input name="notes" value="{{ doc.notes or '' }}" /></div>

    <h4 class="mt-14">Items</h4>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Descripci칩n</th>
          <th class="text-right">Cant.</th>
          <th class="text-right">Precio</th>
          <th class="text-right">Eliminar</th>
        </tr>
      </thead>
      <tbody>
        {% for it in items %}
          <tr>
            <td>{{ it.line_no }}</td>
            <td><input name="desc_{{ it.id }}" value="{{ it.description }}" /></td>
            <td class="text-right"><input name="qty_{{ it.id }}" type="number" step="0.0001" min="0" value="{{ it.quantity }}" /></td>
            <td class="text-right"><input name="price_{{ it.id }}" type="number" step="0.0001" min="0" value="{{ it.unit_price }}" /></td>
            <td class="text-right"><input name="del_{{ it.id }}" type="checkbox" /></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <h4 class="mt-14">A침adir item</h4>
    <div class="grid grid-3-2-1-1">
      <div class="row"><label>Descripci칩n</label><input name="new_desc" /></div>
      <div class="row"><label>Cantidad</label><input name="new_qty" type="number" step="0.0001" min="0" value="1" /></div>
      <div class="row"><label>Precio</label><input name="new_price" type="number" step="0.0001" min="0" value="0" /></div>
    </div>

    <button type="submit" class="mt-12">Guardar cambios</button>
  </form>
</div>
